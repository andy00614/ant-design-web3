const { ethers } = require('ethers');

// 连接到以太坊网络，这里以使用Infura为例
const provider = new ethers.providers.JsonRpcProvider(
  'https://eth-sepolia.g.alchemy.com/v2/Z8G6iIkfebqzuDnW8okiVqdiOFBozrjM',
);

// 假设这是从后端接收的已签名的交易数据
const signedTransactionData =
  '0xf901673384f46109008389544094062386867133e06a2cf5aa97d6e46db69efcca2180b90144e87b5585000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000001bb272fc62428e192e0ec83e3c29010c60f2214cdd388b0220b0bdafcd8957573179002efe09d8f486eb00e41783a33bcf170fa47fab7f8fc9094dc0b3d4a2465e000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000035697066733a2f2f516d656a69697966317472347133614d376850694a62746b5a703874486f357a334e4b77533148386f415378626b0000000000000000000000';

// 发送交易
async function sendTransaction() {
  try {
    const tx = await provider.sendTransaction(signedTransactionData);
    console.log('Transaction hash:', tx.hash);

    // 等待交易被挖掘
    const receipt = await tx.wait();
    console.log('Transaction was mined in block number', receipt.blockNumber);
  } catch (error) {
    console.error('Error sending transaction:', error);
  }
}

sendTransaction();
